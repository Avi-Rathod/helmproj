# General example for adding mounts to SAS containers with a
# PatchTransformer
apiVersion: builtin
kind: PatchTransformer
metadata:
  name: data-mounts-statefulset
patch: |-
  ## NFS path example - kubernetes will mount these for you
  - op: add
    path: /spec/template/spec/containers/0/volumeMounts/-
    value:
      name: access-clients
      mountPath: "/access-clients"
  - op: add
    path: /spec/template/spec/volumes/-
    value:
    name: access-clients
    nfs:
      path: /NAS_SAS_VIYA_DATA_PRD/access-clients
      server: 10.227.69.177
target:
  kind: StatefulSet
  group: apps
  annotationSelector: sas.com/sas-access-config=true
