#   # NOTE:
#   # {{ .values.CPU_LIMIT }}must be a non-zero and non-negative numeric value, such as "3" or "5".
#   # {{ .values.MEMORY_LIMIT }} must be a non-zero and non-negative value followed by "Gi". For example, "8Gi" for 8 gigabytes.
apiVersion: builtin
kind: PatchTransformer
metadata:
  name: sas-backup-pv-copy-cleanup-job-modify-resources-transformer
patch: |-
  - op: replace
    path: /spec/jobTemplate/spec/template/spec/containers/0/resources/limits/cpu
    value: "{{ .values.CPU_LIMIT }}"
  - op: replace
    path: /spec/jobTemplate/spec/template/spec/containers/0/resources/limits/memory
    value: "{{ .values.MEMORY_LIMIT }}"
target:
  kind: CronJob
  name: sas-backup-pv-copy-cleanup-job
  version: v1
