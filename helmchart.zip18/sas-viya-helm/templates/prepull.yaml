apiVersion: v1
kind: PodTemplate
metadata:
  name: {{ include "sas-viya-helm.fullname" . }}-prepull
  labels:
    sas.com/admin: namespace
    sas.com/deployment: sas-viya
  {{- include "sas-viya-helm.labels" . | nindent 4 }}
  annotations:
    sas.com/certificate-file-format: none
    sas.com/component-name: sas-prepull
    sas.com/component-version: 2.custom7.custom17-20241126.custom1732651627357
    sas.com/kustomize-base: base
    sas.com/version: 2.custom7.custom17
template:
  metadata:
    annotations:
      sas.com/certificate-file-format: none
      sas.com/kustomize-base: base
      sidecar.istio.io/inject: "false"
    labels:
      sas.com/deployment: sas-viya
  spec:
    automountServiceAccountToken: true
    containers:
    - args: []
      command: []
      env:
      - name: SAS_PREPULL_NAMESPACE
        valueFrom:
          fieldRef:
            fieldPath: metadata.namespace
      - name: SAS_SPEC_NODENAME
        valueFrom:
          fieldRef:
            fieldPath: spec.nodeName
      envFrom: []
      image: enterprisequay.hbctxdom.com/sasviyaprod/viya-4-x64_oci_linux_2-docker/sas-prepull:2.custom7.custom17-20241126.custom1732651627357
      imagePullPolicy: IfNotPresent
      name: sas-prepull
      ports: []
      readinessProbe:
        exec:
          command:
          - cat
          - /tmp/ready
        initialDelaySeconds: 10
      resizePolicy: []
      resources:
        limits:
          cpu: 250m
          memory: 250Mi
        requests:
          cpu: 25m
          memory: 25Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add: []
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
      volumeDevices: []
      volumeMounts:
      - mountPath: /tmp
        name: tmp
    ephemeralContainers: []
    hostAliases: []
    imagePullSecrets:
    - name: sas-image-pull-secrets-9dd8hm29fm
    initContainers: []
    readinessGates: []
    resourceClaims: []
    restartPolicy: Always
    schedulingGates: []
    securityContext:
      fsGroup: 1001270000
      runAsNonRoot: true
      supplementalGroups: []
      sysctls: []
    serviceAccountName: sas-prepull
    tolerations: []
    topologySpreadConstraints: []
    volumes:
    - emptyDir: null
      name: tmp
